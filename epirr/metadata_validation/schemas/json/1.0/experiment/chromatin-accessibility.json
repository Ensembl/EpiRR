{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://epigenomesportal.ca/schemas/experiment_chromatin_accessibility.json",
    "title": "IHEC Data Hub Experiment Chromatin Accessiblity schema",
    "description": "IHEC Data Hub Experiment Chromatin Accessiblity schema",
    "type" : "object",
    "properties": {
        "reference_registry_id" :   {"type": "string", "description": "The IHEC EpiRR ID for this dataset, only for IHEC Reference Epigenome datasets. Otherwise leave empty."},
		"qc_flags" :                {"type": "string", "description": "Any quanlity control observations can be noted here. This field can be omitted if empty"},
        
        "experiment_type" :         {"const": "chromatin accessibility"},
        "experiment_ontology_uri":  {"type": "string"},
        "library_strategy" :        {"type": "string", "enum": ["dnase-hypersensitivity", "atac-seq", "nome-Seq"]},
        "molecule_ontology_uri" :   {"type": "string"},
        "molecule" :                {"const": "genomic dna"},
        
        "extraction_protocol" : {"type": "string", "description": "The protocol used to isolate the extract material."},
        "dnase_protocol" :      {"type": "string", "description": "The protocol used for DNAse treatment."}
    },
    "required": ["library_strategy", "molecule", "molecule_ontology_uri"],
    "anyOf":    [{"required": ["experiment_ontology_uri"]}, {"required": ["experiment_type"]}]
}
