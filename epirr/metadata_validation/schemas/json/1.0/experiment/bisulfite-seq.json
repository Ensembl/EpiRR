{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "IHEC Data Hub Experiment Bisulfite Sequencing schema 1.0",
    "description": "IHEC Data Hub Experiment Bisulfite-sequencing schema version 1.0",
    "type" : "object",
    "properties": {
        "reference_registry_id" :   {"type": "string", "description": "The IHEC EpiRR ID for this dataset, only for IHEC Reference Epigenome datasets. Omit if empty."},
		"qc_flags" :                {"type": "string", "description": "Any quanlity control observations can be noted here. Omit if empty"},
        
        "experiment_type" :         {"const": "dna methylation", "description": "Constant: dna methylation"},
        "experiment_ontology_uri":  {"type": "string", "description": "(Ontology: OBI). Links to experiment ontology information."},
        "library_strategy" :        {"const": "bisulfite-seq", "description": "Constant: bisulfite-seq"},
        "molecule" :                {"const": "genomic dna", "description": "Constant: genomic dna"},
        "molecule_ontology_uri" :   {"type": "string", "description": "(Ontology: SO). Links to molecule ontology information."},

        "extraction_protocol" : {"type": "string", "description": "The protocol used to isolate the extract material."},
        "extraction_protocol_type_of_sonicator" : {"type": "string", "description": "The type of sonicator used for extraction."},
        "extraction_protocol_sonication_cycles" : {"type": "string", "description": "The number of sonication cycles used for extraction."},
        "dna_preparation_initial_dna_qnty" : {"type": "string", "description": "The initial DNA quantity used in preparation."},
        "dna_preparation_fragment_size_range" : {"type": "string", "description": "The DNA fragment size range used in preparation."},
        "dna_preparation_adaptor_sequence" : {"type": "string", "description": "The sequence of the adaptor used in preparation."},
        "dna_preparation_adaptor_ligation_protocol" : {"type": "string", "description": "The protocol used for adaptor ligation."},
        "dna_preparation_post-ligation_fragment_size_selection" : {"type": "string", "description": "The fragment size selection after adaptor ligation."},
        "bisulfite_conversion_protocol" : {"type": "string", "description": "The bisulfite conversion protocol."},
        "bisulfite_conversion_percent" : {"type": "string", "description": "The bisulfite conversion percent and how it was determined."},
        "library_generation_pcr_template_conc" : {"type": "string", "description": "The PCR template concentration for library generation."},
        "library_generation_pcr_polymerase_type" : {"type": "string", "description": "The PCR polymerase used for library generation"},
        "library_generation_pcr_thermocycling_program" : {"type": "string", "description": "The thermocycling program used for library generation."},
        "library_generation_pcr_number_cycles" : {"type": "string", "description": "The number of PCR cycles used for library generation."},
        "library_generation_pcr_f_primer_sequence" : {"type": "string", "description": "The sequence of the PCR forward primer used for library generation."},
        "library_generation_pcr_r_primer_sequence" : {"type": "string", "description": "The sequence of the PCR reverse primer used for library generation."},
        "library_generation_pcr_primer_conc" : {"type": "string", "description": "The concentration of the PCR primers used for library generation."},
        "library_generation_pcr_product_isolation_protocol" : {"type": "string", "description": "The protocol for isolating PCR products used for library generation."}
    },
    "required": ["library_strategy", "molecule", "molecule_ontology_uri"],
    "anyOf":    [{"required": ["experiment_ontology_uri"]}, {"required": ["experiment_type"]}]
}